<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <title>üè¶ My Bank Limited</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <!-- Firebase CDN -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="firebase.js"></script>
</head>
<body>
  <nav class="navbar">
    <span class="navbar-title">My Bank Limited</span>
    <button class=",Admin-btn" onclick="showAdminLogin()" title="Admin Panel">üí∏</button>
  </nav>
  <div class="main-panel" id="mainPanel">
    <!-- Login / Signup -->
    <div id="authSection">
      <div class="form-box">
        <h2>‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≤‡¶ó‡¶á‡¶®</h2>
        <input id="loginUsername" type="text" placeholder="‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ">
        <input id="loginPassword" type="password" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°">
        <button class="login-btn" onclick="login()">‡¶≤‡¶ó‡¶á‡¶®</button>
        <div id="loginError" class="error"></div>
        <div class="signup-link"><a href="#" onclick="showSignup()">‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü</a></div>
      </div>
      <div class="form-box" id="signupBox" style="display:none;">
        <h2>‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü</h2>
        <input id="signupName" type="text" placeholder="‡¶®‡¶æ‡¶Æ">
        <input id="signupMobile" type="text" placeholder="‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤">
        <input id="signupPassword" type="password" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°">
        <button class="login-btn" onclick="signup()">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞</button>
        <button class="login-btn" onclick="hideSignup()" style="background:#eee;color:#2367c3;">‡¶¨‡¶æ‡¶§‡¶ø‡¶≤</button>
        <div id="signupError" class="error"></div>
      </div>
    </div>
  </div>

  <!-- Admin Login Modal -->
  <div id="adminLoginModal" class="modal-panel" style="display:none;">
    <div class="modal-content">
      <h3>Admin Panel Login</h3>
      <input id="adminUsername" type="text" placeholder="Admin">
      <input id="adminPassword" type="password" placeholder="Password">
      <button class="login-btn" onclick="adminLogin()">Login</button>
      <button class="login-btn" onclick="hideAdminLogin()" style="background:#eee;color:#2367c3;">Cancel</button>
      <div id="adminLoginError" class="error"></div>
    </div>
  </div>

  <!-- User Dashboard -->
  <div id="userPanel" style="display:none;">
    <nav class="navbar">
      <span class="navbar-title">My Bank Limited</span>
      <button class="logout-btn-small" onclick="userLogout()">Logout</button>
    </nav>
    <div class="user-profile-card">
      <div class="user-avatar-circle" id="userAvatar"></div>
      <div class="user-profile-details">
        <div class="up-name" id="upName"></div>
        <div class="up-mobile" id="upMobile"></div>
        <div class="up-username" id="upUsername"></div>
        <div class="up-status" id="upStatus"></div>
      </div>
    </div>
    <div class="account-info-box">
      <div>Account No: <span id="upAccountNum"></span></div>
      <div>Last Txn: <span id="upLastTxn"></span></div>
      <div>Status: <span id="upAccountStatus"></span></div>
    </div>
    <div class="up-balance-box">
      <span>Available Balance</span>
      <div id="upBalance" class="up-balance"></div>
      <span class="pending-badge">Pending: <span id="upPendingBalance">0</span></span>
    </div>
    <!-- Withdraw/Transfer -->
    <div class="user-actions">
      <button class="action-btn" onclick="showWithdrawModal()">Withdraw/Transfer</button>
    </div>
    <div class="withdraw-options" id="withdrawOptions" style="display:none;">
      <button class="option-btn" onclick="showWithdrawForm('bank')">Bank</button>
      <button class="option-btn" onclick="showWithdrawForm('bkash')">Bkash</button>
      <button class="option-btn" onclick="showWithdrawForm('mobile')">Mobile</button>
      <button class="option-btn" onclick="hideWithdrawOptions()">Cancel</button>
    </div>
    <!-- Withdraw Form Modal -->
    <div id="withdrawFormModal" class="modal-panel" style="display:none;">
      <div class="modal-content">
        <h3 id="withdrawTypeTitle"></h3>
        <input type="text" id="withdrawTo" placeholder="">
        <input type="number" id="withdrawAmt" placeholder="Amount">
        <button class="login-btn" onclick="submitWithdraw()">Send</button>
        <button class="login-btn" onclick="hideWithdrawForm()" style="background:#eee;color:#2367c3;">Cancel</button>
        <div id="withdrawError" class="error"></div>
      </div>
    </div>
    <!-- Transaction History -->
    <div class="txn-box">
      <h4>Transaction History</h4>
      <div id="txnList"></div>
    </div>
    <!-- Support Contact -->
    <div class="support-box">
      <span>Support: <a href="mailto:mybankofficial0@gmail.com">mybankofficial0@gmail.com</a></span>
    </div>
    <button class="logout-btn-small" onclick="userLogout()">Logout</button>
  </div>

  <!-- Admin Panel -->
  <div id="adminPanel" style="display:none;">
    <nav class="navbar">
      <span class="navbar-title">Admin Panel</span>
      <button class="logout-btn-small" onclick="adminLogout()">Logout</button>
    </nav>
    <div class="admin-tabs">
      <button class="tab-btn active" onclick="showAdminTab('users')">User Management</button>
      <button class="tab-btn" onclick="showAdminTab('withdrawals')">Withdrawals</button>
      <button class="tab-btn" onclick="showAdminTab('logins')">Login History</button>
    </div>
    <div id="adminTabUsers" class="tab-content">
      <h4>All Users</h4>
      <div id="adminUserList"></div>
    </div>
    <div id="adminTabWithdrawals" class="tab-content" style="display:none;">
      <h4>Pending Withdrawals</h4>
      <div id="adminWithdrawalsList"></div>
    </div>
    <div id="adminTabLogins" class="tab-content" style="display:none;">
      <h4>Login History</h4>
      <div id="adminLoginsList"></div>
    </div>
  </div>
  <script src="app.js"></script>
</body>
</html>
